<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        
        <title>MongoDB CRUD Operations / MongoDB的增删改查操作</title>
        
        <link rel="alternate" type="application/rss+xml" title="Pengyu Chen">
        <link rel="shortcut icon" href="/favicon.ico">
        <!-- syntax highlighting css -->
        <link rel="stylesheet" type="text/css" href="/css/syntax.css">
        <!-- homepage css -->
        <link rel="stylesheet" type="text/css" href="/css/hgtip/aal.css">
        <link rel="stylesheet" type="text/css" href="/css/hgtip/calluna.css">
        <link rel="stylesheet" type="text/css" href="/css/hgtip/style.css">
    </head>
    <body>
        <div id="main-wrap">
            <div id="header">
                <h1><a href="/" title="Pengyu Chen">Pengyu Chen</a></h1>
                <br />
            </div>
            <p id="navigation">
                <a href="/pages/archives.html">Archives</a> &mdash;
                <a href="/pages/projects.html">Projects</a> &mdash;
                <a href="/pages/people.html">People</a> &mdash;
                <a href="/pages/favorite.html">Favorite</a> &mdash;
                <a href="/pages/about.html">About</a>
            </p>
            <div id="content">
                
<h2>MongoDB CRUD Operations / MongoDB的增删改查操作</h2>

<p id="tip-info">July 23, 2015 @ 05:23 PM</p>
<p><center><strong>------English (英文)------</strong></center></p>

<h3><b>Insert Documents</b></h3>

<p>1&gt; Insert a Document</p>

<p>1.1&gt; Create a document.
Define a variable <code>document</code> that holds a document to insert.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">document=({&quot;user_id&quot; : &quot;chen&quot;,&quot;password&quot; :&quot;chen123&quot; ,&quot;DOB&quot; :
    &quot;02/03/1992&quot; ,&quot;education&quot; :&quot;M.C.S.&quot; , &quot;profession&quot; : &quot;DEVELOPER&quot;})
</code></pre></div>
<p>1.2&gt; Insert the document.
Pass the variable <code>document</code> to the <code>db.collection.insert()</code> to perform an insert.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.myinfo.insert(document);
</code></pre></div>
<p>2&gt; Directly Insert without Document.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.myinfo.insert({&quot;user_id&quot; : &quot;hao&quot;,&quot;password&quot; :&quot;hao123&quot; ,&quot;DOB&quot; : &quot;02/12/1990&quot; ,
    &quot;education&quot; :&quot;M.C.A.&quot; , &quot;profession&quot; : &quot;Software consultant&quot;});
</code></pre></div>
<h3><b>Modify Documents</b></h3>

<p>MongoDB can use <code>update()</code> function to modify data.</p>

<p><code>db.collection.update( criteria, objNew, upsert, multi )</code></p>

<p><b>criteria</b> : update conditions, similar to the statements after <code>where</code> in sql update.</p>

<p><b>objNew</b> : update&#39;s objects or some update operations ($,$inc...), may ragard as the statements after <code>set</code> in sql update.</p>

<p><b>upsert</b> : if the record doesn&#39;t exist, if you want to insert this new record, true is insert, default is false, don&#39;t insert.</p>

<p><b>multi</b> : defaust is false, only update the first record it found. if it is true, update all records meet the conditions.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.myinfo.update({&quot;user_id&quot; : &quot;hao&quot;},{&quot;user_id&quot; : &quot;hui&quot;,&quot;password&quot; :&quot;hui123&quot; ,
    &quot;DOB&quot; : &quot;06/06/1990&quot; ,&quot;education&quot; :&quot;M.E.B.&quot; , &quot;profession&quot; : &quot;MARKETING&quot;});
</code></pre></div>
<h3><b>Query Documents</b></h3>

<p>Select all documents in a collection</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.myinfo.find({}); // or 
db.myinfo.find();
</code></pre></div>
<p>which is similar to SQL statement</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Select * from myinfo; 
</code></pre></div>
<p>Select the documents which &quot;education&quot; is &quot;M.C.S&quot;</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.myinfo.find({&quot;education&quot;:&quot;M.C.S.&quot;});
</code></pre></div>
<p>which is similar to SQL statement</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Select * from myinfo where education=&quot;M.C.S.&quot;;
</code></pre></div>
<p><b>Conditional operator:</b></p>

<p>(&gt;) - $gt</p>

<p>(&lt;) - $lt</p>

<p>(&gt;=) - $gte</p>

<p>(&lt;= ) - $lte</p>

<p>For example 1,</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.testtable.find({age : {$gt : 22}})
</code></pre></div>
<p>is similar to SQL statement</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Select * from testtable where age &gt;22;
</code></pre></div>
<p>Example 2,</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.testtable.find({age : {$lt :24, $gt : 17}})
</code></pre></div>
<p>is similar to SQL statement</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Select * from testtable where age &gt; 17 and age &lt;24;
</code></pre></div>
<p><code>limit()</code> accept a integer parameter, to define the number of records selected from MongoDB</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.COLLECTION_NAME.find().limit(NUMBER)
</code></pre></div>
<p><code>skip()</code> to ignore the number of records</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.COLLECTION_NAME.find().limit(NUMBER).skip(NUMBER)
</code></pre></div>
<p><code>sort()</code>, 1 is ascending, and -1 is descending</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.COLLECTION_NAME.find().sort({KEY:1})
</code></pre></div>
<h3><b>Remove Documents</b></h3>

<p>Use <code>remove()</code>
if you want to delete record where &quot;user_id&quot; = &quot;chen&quot; in &quot;myinfo&quot;, you may use, </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.myinfo.remove( { &quot;user_id&quot; : &quot;chen&quot; } );
</code></pre></div>
<p>Delete all data
if you want to delete all records in &quot;myinfo&quot;, you may use, </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.myinfo.remove({});
</code></pre></div>
<p>Use <code>drop()</code> to delete collections
if you want to delete the whole &quot;myinfo&quot;, including data and documents, you may use, </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.myinfo.drop();
</code></pre></div>
<p>Use <code>dropDatabase()</code> to delete database
if you want to delete the whole database, you may use,</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">db.dropDatabase()
</code></pre></div>
<p><center><strong>------中文 (Chinese)------</strong></center></p>

<h3>数据插入</h3>

<h3>数据修改</h3>

<h3>数据查询</h3>

<h3>数据删除</h3>

<div id="tip-comments">
    <h2>Related Posts</h2>
    <ul>
        
        <li><a href="/2015/11/17/max-subsequence-sum.html">Max Subsequence Sum Problem / 最大子序列和问题</a> &raquo; November 17, 2015</li>
        
        <li><a href="/2015/10/27/cordova-android.html">Cordova-Android Plugin Example / Cordova-Android 插件详解</a> &raquo; October 27, 2015</li>
        
        <li><a href="/2015/09/01/codility.html">A Good Site for Coding Test / Codility, 练习编码的好平台</a> &raquo; September  1, 2015</li>
        
    </ul>
</div>

            </div>
            <div id="footer">
                Follow me: <a href="https://github.com/ShongSu">Github</a> / <a href="https://ca.linkedin.com/pub/pengyu-chen/86/538/852">Linkedin</a> 
            </div>
        </div>
    </body>
</html>
